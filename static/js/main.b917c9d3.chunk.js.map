{"version":3,"sources":["context/UserContext.js","api/filmApi.js","api/country.js","api/category.js","components/Header/index.jsx","components/ListFilm/Film/index.jsx","components/ListFilm/index.jsx","components/Loadding/index.jsx","Pages/Home/ListFilmContainer/index.jsx","Pages/Home/SlideShow/index.jsx","Pages/Home/index.jsx","components/ErrorPage/index.jsx","Pages/FilterFilm/index.jsx","Pages/WatchFilm/comments/index.jsx","components/VideoPlayer/index.js","Pages/WatchFilm/advertisement/index.jsx","Pages/WatchFilm/index.jsx","components/HotFilm/index.jsx","fireBase/index.js","components/Conversation/icons/index.jsx","api/conversationApi.js","components/Conversation/index.jsx","components/LeftComponent/index.jsx","components/Input/index.jsx","api/userApi.js","Pages/Auth/Signin/index.js","Pages/Auth/Signup/index.js","Pages/Auth/index.js","Pages/Member/UserInfor/index.jsx","Pages/Member/FavoriteFilm/index.jsx","Pages/Member/ChangePassword/index.js","Pages/Member/index.js","Pages/Footer/index.js","App.js","reportWebVitals.js","index.js","api/axiosClient.js"],"names":["UserContext","React","createContext","UserProvider","Provider","Consumer","axiosClient","require","default","filmApi","getAll","params","a","get","getOne","url","voteFilm","method","data","getComments","postComment","postFilmError","getTicket","getLink","searFilm","countryApi","categoryApi","NavBar","props","submit","useState","collapse","setCollapse","useContext","userContext","user","setUser","setInputSearch","history","useHistory","fillterCountry","setFillterCountry","filltercAtegory","setFilltercAtegory","isLoading1","setIsLoading1","isLoading2","setIsLoading2","useEffect","limit","then","res","console","log","className","to","src","alt","onClick","htmlFor","type","id","categories","map","category","_id","name","countries","country","onSubmit","e","preventDefault","FilmApi","target","input","value","push","autoComplete","onChange","placeholder","avatar","userName","localStorage","removeItem","window","location","reload","Film","film","style","backgroundImage","img","backgroundSize","averageVote","ename","ListFilm","films","item","Loadding","fonsize","fontSize","ListFilmContainer","title","href","length","SlideShow","slides","slideShowRef","useRef","count","setCount","runSlideShowRef","mouseOverXRef","handleStart","current","touches","clientX","handleEnd","changedTouches","slide","addEventListener","passive","setInterval","removeEventListener","clearInterval","changeSlideImg","index","transform","ref","largerImg","backgroundColor","Home","newFilms","setNewFilms","actionFilms","setActionFilms","sort","product","ErrorPage","FilterFilm","searchFilm","query","useParams","genres","setGenres","setCountry","setSort","setYear","err","listFilm","setListFilm","year","fillter","setFillter","undefined","split","forEach","handleOnchange","Comments","comments","filmId","loadding","setLoadding","allComments","setAllcomment","status","alert","userId","comment","inputComment","handleSubmit","maxLength","formatTime","minutes","Math","floor","hours","seconds","VideoPlayer","video","boxVideo","progress","currentTime","durationVideo","cursor","valueVolum","setValueVolum","mouseDown","timeOut","istrue","innerVideo","link","onPlay","onLoading","muted","fullScreen","control","setControl","handleOnplay","handleVolum","volume","hanhdleSkip","timeSkip","handleProgress","percent","duration","childNodes","flexBasis","innerText","handleSlideProgress","slideTime","nativeEvent","offsetX","offsetWidth","document","onkeydown","key","onmousedown","onMouseMove","classList","remove","clearTimeout","setTimeout","add","width","height","onTimeUpdate","onLoadStart","playsInline","preload","onMouseUp","onCanPlay","onWaiting","display","bottom","onMouseDown","min","max","step","exitFullscreen","catch","requestFullscreen","Advertisement","countDown","setCountDown","countRef","WatchFilm","isOpenFilmInfo","setIsOpenFilmInfo","isOpenFilm","setIsOpenFilm","setFilm","filmStar","setFilmStar","linkFilm","setLinkFilm","setErr","overlayRef","ticketRef","openInfoRef","yourVoteItemRef","InfoContainerRef","disableClick","setDisableClick","getFilm","streamTapeId","result","ticket","vote","i","parseInt","color","x","y","viewBox","enableBackground","fill","stroke","d","voteLength","innerHTML","updatedAt","toString","slice","replace","alignItems","description","star","idFilm","idUser","message","handleVoteStar","onMouseOver","children","onMouseOut","renderStar","HotFilm","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","icons","syntax","conversationApi","getMany","socket","io","process","REACT_APP_API_URL","transports","Conversation","imageUrl","setImageUrl","imageUploadedRef","currentChats","setCurrentChat","chatRef","chatBox","popupRef","inputValueRef","createChat","image","sender","content","dangerouslySetInnerHTML","__html","put","on","snapshot","child","getDownloadURL","emit","senderId","isImg","inputText","trim","check","find","filter","includes","checkIcon","join","handleClick","splice","toggle","onClickIcon","focus","scrollTop","offsetHeight","arr","unshift","off","onScroll","files","URL","createObjectURL","rowNumbers","ceil","tbodyArr","iconImg","createElement","td","tr","renderIcon","LeftComponent","setFilms","Input","label","onBlur","showPassword","inputRef","isShowPass","setIsShowPass","userApi","signUp","post","signIn","signInAfterReload","Signin","email","password","setValue","handleChange","handleValidate","response","setItem","token","checkRegex","test","validate","marginTop","Signup","confirmPassword","successMessage","setSuccessMessage","isErr","nameErr","handle","Auth","path","component","UserInfor","FavoriteFilm","ChangePassword","currentPassword","newPassword","comfirmPassword","Member","activeClassName","Footer","App","setData","unRight","setUnRight","useLocation","setSubmit","fetch","json","getItem","pathname","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","axios","create","baseURL","headers","paramsSerializer","queryString","stringify","interceptors","use","error"],"mappings":"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","file":"static/js/main.b917c9d3.chunk.js","sourcesContent":["import React from 'react'\nconst UserContext = React.createContext({})\nexport const UserProvider = UserContext.Provider\nexport const UserConsumer = UserContext.Consumer\nexport default UserContext","const { default: axiosClient } = require(\"./axiosClient\")\nconst filmApi = {}\n\nfilmApi.getAll = async (params) => {\n    const url = `/api/product/getProductByQuery`\n    return await axiosClient.get(url,{params})\n}\nfilmApi.getOne = async (params) => {\n    const url= `/api/product/getProductById?${params}`\n    return await axiosClient.get(url)\n}\nfilmApi.voteFilm = async (params)=>{\n    const url = `/api/product/vote`\n    return await axiosClient({\n        method:'POST',\n        url:url,\n        data:params\n    })\n}\nfilmApi.getComments = async(params)=>{\n    const url = `/api/product/comment`\n    return await axiosClient.get(url,{params})\n}\nfilmApi.postComment = async(params)=>{\n    const url = '/api/product/comment'\n    return await axiosClient({\n        method:\"POST\",\n        url:url,\n        data:params\n    })\n}\nfilmApi.postFilmError = async(params)=>{\n    const url = '/api/filmError/createFilmError'\n    return await axiosClient({\n        method:\"POST\",\n        url:url,\n        data:params\n    })\n}\nfilmApi.getTicket = async (params)=>{\n    const url = '/api/product/streamTape/getTicket'\n    return await axiosClient.get(url,{params})\n}\nfilmApi.getLink = async (params)=>{\n    const url = '/api/product/streamTape/getlink'\n    return await axiosClient.get(url,{params})\n}\nfilmApi.searFilm = async(params)=>{\n    const url = '/api/product/searchFilm'\n    return await axiosClient({\n        method:\"POST\",\n        url:url,\n        data:params\n    })\n}\nexport default filmApi;","const { default: axiosClient } = require(\"./axiosClient\");\nconst countryApi = {};\n\ncountryApi.getAll = async (params) => {\n  const url = \"/api/country/getCountry\";\n  return await axiosClient.get(url, { params });\n};\n\nexport default countryApi;\n","const { default: axiosClient } = require(\"./axiosClient\");\nconst categoryApi = {};\n\ncategoryApi.getAll = async (params) => {\n  const url = \"/api/category/getcategory\";\n  return await axiosClient.get(url, { params });\n};\n\nexport default categoryApi;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\nimport userContext from \"../../context/UserContext\";\nimport FilmApi from '../../api/filmApi'\nimport \"../../style/reset.css\";\nimport \"./style.scss\";\nimport countryApi from \"../../api/country\";\nimport categoryApi from \"../../api/category\";\nfunction NavBar(props) {\n  const { submit } = props\n  const [collapse, setCollapse] = useState(false);\n  const { user, setUser } = useContext(userContext);\n  const [inputSearch, setInputSearch] = useState('')\n  const history = useHistory()\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    FilmApi.searFilm({\n      data: e.target.input.value\n    }).then((res) => {\n      submit(res.data)\n      history.push('/search')\n      e.target.input.value = \"\"\n    })\n  }\n  const [fillterCountry, setFillterCountry] = useState(null);\n  const [filltercAtegory, setFilltercAtegory] = useState(null);\n  const [isLoading1, setIsLoading1] = useState(true);\n  const [isLoading2, setIsLoading2] = useState(true);\n\n  useEffect(() => {\n    countryApi.getAll({ limit: 20 }).then((res) => {\n      setFillterCountry(res.data);\n      setIsLoading1(false);\n    });\n    categoryApi.getAll({ limit: 20 }).then((res) => {\n      setFilltercAtegory(res.data);\n      console.log(res.data);\n      setIsLoading2(false);\n    });\n  }, []);\n\n  const handleCollapse = () => {\n    setCollapse(!collapse);\n  };\n\n  return (\n    <nav className=\"nav\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col col-img\">\n            <NavLink to=\"/\" className=\"nav__logo\">\n              <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\n            </NavLink>\n          </div>\n          <div className=\"col col-hamburger\">\n            <div className=\"nav__hamburger\">\n              <i\n                className={collapse ? \"fas fa-times\" : \"fas fa-bars\"}\n                onClick={handleCollapse}\n              ></i>\n            </div>\n          </div>\n          <div\n            className={collapse ? \"nav__collapse nav__active\" : \"nav__collapse\"}\n          >\n            <ul className=\"nav__menu\">\n              <li className=\"nav__item nav__hover\">\n                <label htmlFor=\"checkbox1\" className=\"nav__link\">\n                  Thể Loại <i className=\"fas fa-caret-down\"></i>\n                </label>\n                <input type=\"checkbox\" id=\"checkbox1\" />\n                <ul className=\"nav__smenu\">\n                  {!isLoading2 &&\n                    filltercAtegory.categories.map((category) => (\n                      <li className=\"smenu__item\" key={category._id}>\n                        <Link\n                          className=\"smenu__link\"\n                          to={`/filter/genres=${category._id}`}\n                        >\n                          {category.name}\n                        </Link>\n                      </li>\n                    ))}\n                </ul>\n              </li>\n              <li className=\"nav__item nav__hover\">\n                <label htmlFor=\"checkbox2\" className=\"nav__link\">\n                  Quốc Gia <i className=\"fas fa-caret-down\"></i>\n                </label>\n                <input type=\"checkbox\" id=\"checkbox2\" />\n                <ul className=\"nav__smenu\">\n                  {!isLoading1 &&\n                    fillterCountry.countries.map((country) => {\n                      return (\n                        <li className=\"smenu__item\" key={country._id}>\n                          <Link\n                            to={`/filter/country=${country._id}`}\n                            className=\"smenu__link\"\n                          >\n                            {country.name}\n                          </Link>\n                        </li>\n                      );\n                    })}\n                </ul>\n              </li>\n              <li className=\"nav__item\">\n                <NavLink to=\"/filter/sort=votes\" className=\"nav__link\">\n                  Phim Hot\n                </NavLink>\n              </li>\n              <li className=\"nav__item\">\n                <NavLink to=\"/filter/year=2020\" className=\"nav__link\">\n                  Phim Mới\n                </NavLink>\n              </li>\n              <li className=\"nav__item\">\n                <NavLink to=\"/movies-shown-in-theater\" className=\"nav__link\">\n                  Phim Chiếu Rạp\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <div className=\"col nav__search\">\n            <div className=\"nav__form\">\n              <form onSubmit={handleSubmit} className=\"nav__input\">\n                <input autoComplete=\"off\" onChange={(e) => {\n                  setInputSearch(e.target.value)\n                }} type=\"text\" name=\"input\" placeholder=\"Search\" />\n                <div className=\"nav__form--btn\">\n                  <button type=\"submit\">\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </form>\n              <div className=\"nav__login\">\n                {user ? (\n                  <>\n                    {\" \"}\n                    <div className=\"user\">\n                      <div className=\"logo-user\">\n                        <img src={user.avatar} alt=\"logo\" />\n                      </div>\n                    </div>\n                    <span className=\"user-name\">{user.userName}</span>\n                    <ul className=\"menu-user\">\n                      <span className=\"display-name\">{user.userName}</span>\n                      <li className=\"user-item\">\n                        <Link className=\"user-link\" to=\"/member/user-infor\">\n                          <i className=\"far fa-user\"></i>\n                          Thông tin cá nhân\n                        </Link>\n                      </li>\n                      <li className=\"user-item\">\n                        <Link className=\"user-link\" to=\"/\">\n                          <i className=\"fas fa-film\"></i>\n                          tủ phim của bạn\n                        </Link>\n                      </li>\n                      <li className=\"user-item\">\n                        <i className=\"fas fa-sign-out-alt\"></i>\n                        <span\n                          className=\"user-link\"\n                          onClick={() => {\n                            localStorage.removeItem(\"token\");\n                            window.location.reload();\n                          }}\n                        >\n                          Đăng Xuất\n                        </span>\n                      </li>\n                    </ul>\n                  </>\n                ) : (\n                    <NavLink className=\"btn-login\" to=\"/auth/sign-in\">\n                      Login\n                    </NavLink>\n                  )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nfunction Film(props) {\n  const { film } = props;\n  return (\n    <div className=\"listFilm__item\">\n      <Link to={`/watch-film/${film._id}`}>\n        <div className=\"a123\">\n          <div\n            style={{\n              backgroundImage: `url('${film.img}')`,\n              backgroundSize: \"cover\",\n            }}\n            className=\"listFilm__item__img\"\n          >\n            <div className=\"listFilm__item__playIcon\">\n              <div className=\"overlay\"></div>\n              <i className=\"fas fa-play\"></i>\n            </div>\n            <div className=\"listFilm__item__star\">\n              <i className=\"fas fa-star\">\n                <p>{film.averageVote}</p>\n              </i>\n            </div>\n          </div>\n          <div className=\"listFilm__item__info\">\n            <p>{film.name}</p>\n            <p>{film.ename}</p>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default Film;\n","import React from 'react'\nimport Film from './Film'\nimport './style.scss'\n\nfunction ListFilm(props) {\n    const {films} = props\n    return (\n        <div className=\"listFilm\">\n            {\n               films&&films.map((item)=><Film \n                 film={item} key={item._id}\n                />)\n            }\n        </div>\n    )\n}\n\nexport default ListFilm\n","import React from 'react'\nimport './style.scss'\nfunction Loadding(props) {\n    const {fonsize} = props\n    return (\n        <div  className=\"loadding\">\n            <i style={{\n            fontSize: fonsize&&fonsize\n        }} className=\"fas fa-spinner\"></i>\n        </div>\n    )\n}\n\nexport default Loadding\n","import React, { useEffect, useState } from \"react\";\nimport ListFilm from \"../../../components/ListFilm\";\n\nimport Loadding from \"../../../components/Loadding\";\nimport \"./style.scss\";\nfunction ListFilmContainer(props) {\n  const { title, films } = props;\n  useEffect(() => {}, []);\n  return (\n    <div className=\"ListFilmContainer\">\n      <div className=\"ListFilmContainer__title\">\n        <a href=\"/\">\n          <span>{title}</span>\n          <i className=\"fas fa-caret-right\"></i>\n        </a>\n      </div>\n      {films.length ? <ListFilm films={films} /> : <Loadding />}\n    </div>\n  );\n}\n\nexport default ListFilmContainer;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loadding from \"../../../components/Loadding\";\nimport \"./style.scss\";\nfunction SlideShow(props) {\n  const { slides } = props;\n  console.log(slides);\n  const slideShowRef = useRef();\n  let [count, setCount] = useState(0);\n  let runSlideShowRef = useRef();\n  let mouseOverXRef = useRef(0);\n  useEffect(() => {\n    function handleStart(e) {\n      mouseOverXRef.current = e.touches[0].clientX;\n    }\n    function handleEnd(e) {\n      if (\n        mouseOverXRef.current > e.changedTouches[0].clientX &&\n        mouseOverXRef.current - e.changedTouches[0].clientX > 50\n      ) {\n        console.log(\"right\");\n        if (count < slides.length - 1) setCount(count + 1);\n        else if (count >= slides.length - 1) setCount(0);\n      } \n\n      else if (\n        mouseOverXRef.current < e.changedTouches[0].clientX &&\n        e.changedTouches[0].clientX - mouseOverXRef.current > 50\n      ) {\n        console.log(\"left\");\n        if (count > 0) setCount(count - 1);\n        else if (count <= 0) setCount(slides.length - 1);\n      }\n    }\n    let slide = slideShowRef.current;\n    slide.addEventListener(\"touchstart\", handleStart,{passive:true} );\n    slide.addEventListener(\"touchend\", handleEnd);\n    runSlideShowRef.current = setInterval(() => {\n      if (count >= slides.length - 1) {\n        setCount(0);\n      } else {\n        setCount(count + 1);\n      }\n    }, 7000);\n    return () => {\n      slide.removeEventListener(\"touchstart\", handleStart);\n      slide.removeEventListener(\"touchend\", handleEnd);\n      clearInterval(runSlideShowRef.current);\n    };\n  }, [count, slides.length]);\n\n  const changeSlideImg = (index) => {\n    slideShowRef.current.style.transform = `translateX(-${index * 100}%)`;\n    setCount(index);\n  };\n  return (\n    <div className=\"home__slideShow\">\n      <div\n        ref={slideShowRef}\n        style={{\n          transform: `translateX(-${count * 100}%)`,\n        }}\n        className=\"home__slideShow__container\"\n      >\n        {slides.length?\n          slides.map((item) => {\n          return (\n            <div key={item._id} className=\"home__slideShow__item\">\n              <Link to={`/watch-film/${item._id}`}>\n                <img src={item.largerImg} alt={item.ename} />\n                </Link>\n            </div>\n          );\n        }):<Loadding/>\n      }\n      </div>\n      <div className=\"home-slideShow-dotButton\">\n        <div onClick={() => {\n          if (count > 0) {\n            changeSlideImg(count - 1)\n          }\n        }} className=\"home-slideShow-arrow\">\n          <i className=\"fas fa-chevron-left\"></i>\n        </div>\n        <ul>\n          {slides.map((item, index) => {\n            return (\n              <li className={index} key={item._id}>\n                <span\n                  style={{\n                    transform: count === index && 'scale(1.1)',\n                    backgroundColor: count === index ? \"rgba(255,255,255,0.9)\" : \"transparent\",\n                  }}\n                  onClick={() => changeSlideImg(index)}\n                ></span>\n              </li>\n            );\n          })}\n        </ul>\n        <div onClick={() => {\n          if (count < slides.length - 1) {\n            changeSlideImg(count + 1)\n          }\n        }} className=\"home-slideShow-arrow\">\n          <i className=\"fas fa-chevron-right\"></i>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SlideShow;\n","import React, { useEffect, useState } from \"react\";\nimport ListFilmContainer from \"./ListFilmContainer\";\nimport SlideShow from \"./SlideShow\";\nimport filmApi from \"../../api/filmApi\";\n\nfunction Home(props) {\n  const [newFilms, setNewFilms] = useState([]);\n  const [actionFilms, setActionFilms] = useState([]);\n  useEffect(() => {\n    filmApi\n      .getAll({\n        sort: \"date\",\n        limit: 10,\n      })\n      .then((res) => {\n        setNewFilms(res.data.product);\n      });\n\n    filmApi\n      .getAll({\n        category: \"5fd82f209644f00e2ee9b59c\",\n        limit: 10,\n      })\n      .then((res) => {\n        setActionFilms(res.data.product);\n      });\n  }, []);\n  return (\n    <div>\n      {newFilms && actionFilms && (\n        <>\n          <SlideShow slides={newFilms} />\n          <ListFilmContainer films={newFilms} title=\"New Films\" />\n          <ListFilmContainer films={actionFilms} title=\"Action Films\" />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './style.scss'\nfunction ErrorPage() {\n    return (\n        <div className=\"errorPage\">\n            <div id=\"notfound\">\n                <div className=\"notfound\">\n                    <div className=\"notfound-404\">\n                        <h1>4<span>0</span>4</h1>\n                    </div>\n                    <p>The page you are looking for might have been removed had its name changed or is temporarily unavailable.</p>\n                    <Link to=\"/\">Home Page</Link>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ErrorPage\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\nimport ListFilm from \"../../components/ListFilm\";\nimport ErrorPage from \"../../components/ErrorPage\";\nimport filmApi from \"../../api/filmApi\";\n\nimport \"./style.scss\";\nfunction FilterFilm(props) {\n  const {searchFilm} = props\n  let { query } = useParams();\n  const [genres, setGenres] = useState(null);\n  const [country, setCountry] = useState(null);\n  const [sort, setSort] = useState(null);\n  const [year, setYear] = useState(null);\n  const [err, setErr] = useState(false);\n  const [listFilm, setListFilm] = useState([]);\n  const [fillter, setFillter] = useState({\n    country: \"default\",\n    year: \"default\",\n    genres: \"default\",\n    sort: \"default\",\n  });\n\n  useEffect(() => {\n   if(query!== undefined){\n    let arrQuery = query.split(\"&\");\n    arrQuery.forEach((item) => {\n      let a = item.split(\"=\");\n      if (a[0] === \"country\") setCountry(a[1]);\n      if (a[0] === \"genres\") setGenres(a[1]);\n      if (a[0] === \"year\") setYear(a[1]);\n      if (a[0] === \"sort\") setSort(a[1]);\n    });\n   }\n   if(searchFilm!== undefined){\n    console.log(searchFilm);\n    setListFilm(searchFilm)\n  }\n    return () => {\n      console.log(\"removed\");\n      setCountry(null);\n      setGenres(null);\n      setYear(null);\n      setSort(null);\n    };\n  }, [query]);\n\n  const handleOnchange = (e) => {\n    setFillter({\n      ...fillter,\n      [e.target.name]: e.target.value,\n    });\n\n    // if (e.target.name === \"genres\") {\n    //   setGenres(e.target.value);\n    // }\n    // if (e.target.name === \"country\") setCountry(e.target.value);\n    // if (e.target.name === \"year\") setYear(e.target.value);\n  };\n  useEffect(()=>{\n    console.log(searchFilm);\n    if(searchFilm!== undefined){\n      console.log(searchFilm);\n      setListFilm(searchFilm)\n    }\n  },[searchFilm])\n  useEffect(() => {\n    country &&\n      filmApi.getAll({ country: country }).then((res) => {\n        console.log(res.data.product);\n        setListFilm(res.data.product);\n      });\n    genres &&\n      filmApi.getAll({ category: genres }).then((res) => {\n        setListFilm(res.data.product);\n      });\n  }, [country, genres]);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    filmApi\n      .getAll({\n        category: fillter.genres,\n        country: fillter.country,\n        year: fillter.year,\n        sort: fillter.sort\n      })\n      .then((res) => {\n        console.log(res.data.product);\n        setListFilm(res.data.product);\n      });\n    console.log(fillter);\n  };\n  return (\n    <div className=\"filterFilm\">\n      {!err ? (\n        <>\n          <div className=\"filterFilm__title\">\n            <span>Fillter Films</span>\n            <i className=\"fas fa-caret-right\"></i>\n          </div>\n          {\n            <div className=\"filterFilm__filter\">\n              <form onSubmit={handleSubmit}>\n                <select\n                  name=\"genres\"\n                  onChange={handleOnchange}\n                  value={fillter.genres ? fillter.genres : \"default\"}\n                >\n                  <option value=\"default\">Genres</option>\n                  <option value=\"5fd82f209644f00e2ee9b59c\">Action</option>\n                  <option value=\"5fd829015956e30ad2b47c59\">Horror</option>\n                  <option value=\"5fd82f0d9644f00e2ee9b59b\">\n                    Science Fiction\n                  </option>\n                  <option value=\"5fd82f279644f00e2ee9b59d\">Comedy</option>\n                  <option value=\"5fcc7a7a08fd0b07136ef11a\">Drama</option>\n                  <option value=\"5fd8415f7e38360f816e5f75\">Cartoon</option>\n                </select>\n                <select\n                  name=\"country\"\n                  onChange={handleOnchange}\n                  value={fillter.country ? fillter.country : \"default\"}\n                >\n                  <option value=\"default\">Country</option>\n                  <option value=\"5fcdcef26ddb480fad13b2db\">Viet Nam</option>\n                  <option value=\"5fd8411f2ae2e546fc566363\">\n                    United States\n                  </option>\n                  <option value=\"5fd841522ae2e546fc566366\">China</option>\n                  <option value=\"5fd8413c2ae2e546fc566364\">korea</option>\n                  <option value=\"5fd7b993aa16a62b596010ee\">thailand</option>\n                  <option value=\"5fd841492ae2e546fc566365\">Hong Kong</option>\n                </select>\n                <select\n                  name=\"year\"\n                  onChange={handleOnchange}\n                  value={fillter.year ? fillter.year : \"default\"}\n                >\n                  <option value=\"default\">Year</option>\n                  <option value=\"2020\">2020</option>\n                  <option value=\"2019\">2019</option>\n                  <option value=\"2018\">2018</option>\n                  <option value=\"2017\">2017</option>\n                  <option value=\"2016\">2016</option>\n                  <option value=\"2015\">2015</option>\n                  <option value=\"2014\">2014</option>\n                </select>\n                <select\n                  name=\"sort\"\n                  onChange={handleOnchange}\n                  value={fillter.sort ? fillter.sort : \"default\"}\n                >\n                  <option value=\"default\">Sort</option>\n                  <option value=\"vote\">Votes</option>\n                  <option value=\"date\">Date update</option>\n                </select>\n                <button type=\"submit\">Filter Film</button>\n              </form>\n            </div>\n          }\n          <div className=\"filterFilm__listFilm\">\n            <ListFilm films={listFilm} />\n          </div>\n        </>\n      ) : (\n        <ErrorPage />\n      )}\n    </div>\n  );\n}\n\nexport default FilterFilm;\n","import React, { useEffect, useState } from \"react\";\nimport filmApi from \"../../../api/filmApi\";\nimport Loadding from \"../../../components/Loadding\";\nimport \"./style.scss\";\nfunction Comments(props) {\n  const { comments = [],user,filmId } = props;\n  const [loadding,setLoadding] = useState(false)\n  const [allComments,setAllcomment] = useState([])\n\n  useEffect(()=>{\n    try{\n      filmApi.getComments({\n        id:filmId,\n        limit:5\n      }).then((res)=>{\n        console.log(res);\n        if(res.status === 200){\n          setAllcomment(res.data.comments)\n        }\n      })\n    }catch(err){\n      alert(err)\n    }\n  },[])\n\n  const handleSubmit = (e)=>{\n    e.preventDefault()\n    try{\n      filmApi.postComment({\n        id:filmId,\n        userId:user._id,\n        comment:e.target.inputComment.value\n      }).then((res)=>{\n        if(res.status===200){\n          setAllcomment([{\n            comment:e.target.inputComment.value,\n            user:[\n              {\n                avatar:user.avatar,\n                userName:user.userName,\n              }\n            ]\n          },...allComments])\n          e.target.inputComment.value=\"\"\n        }\n      })\n    }catch(err){\n      alert(err)\n    }\n  }\n  useEffect(()=>{\n  },[allComments])\n  return (\n    <div className=\"comments\">\n      <form onSubmit={(e)=>{\n        e.preventDefault()\n        if(user){\n          handleSubmit(e)\n        }\n        else {\n          e.target.inputComment.value=\"\"\n          alert('you have to login to comment')\n        }\n      }} className=\"comments__form\">\n        <img\n          src={user?user.avatar:'https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/images%2Ficon-user.svg?alt=media&token=a31c548c-bc91-4cee-b861-80ecf0128d58'}\n          alt=\"logo\"\n        />\n        <input\n          autoComplete=\"off\"\n          type=\"text\"\n          maxLength=\"185\"\n          placeholder=\"Your comments\"\n          name=\"inputComment\"\n        />\n        <button type=\"submit\">Comment</button>\n      </form>\n      <div className=\"comments__listComment\">\n        <ul className=\"comments__listComment__container\">\n          {allComments.map((item,index) => (\n            <li key={index}>\n              <div className=\"comments__listComment__container__img\">\n                <img src={item.user[0].avatar} alt=\"logo\" />\n              </div>\n              <div className=\"comments__listComment__container__info\">\n                <p>{item.user[0].userName}</p>\n                <p>{item.comment}</p>\n              </div>\n            </li>\n          ))}\n        </ul>\n        <div className=\"comments__listComment__loading\">\n                <span onClick={()=>{\n                  try{\n                    setLoadding(true)\n                    filmApi.getComments({\n                      id:filmId,\n                      limit:allComments.length+5\n                    }).then((res)=>{\n                      console.log(res);\n                      if(res.status === 200){\n                        setAllcomment(res.data.comments)\n                        setLoadding(false)\n                      }\n                    })\n                  }catch(err){\n                    alert(err)\n                    setLoadding(false)\n                  }\n                }}>{loadding?<Loadding/>:'See More...'}</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Comments;\n","import React, { useRef, useState } from \"react\";\n\nimport \"./style.scss\";\n\nfunction formatTime(current) {\n  if (!current) {\n    return \"00:00:00\";\n  }\n  var minutes = Math.floor(current / 60);\n  var hours = Math.floor(minutes / 60);\n  hours = hours >= 10 ? hours : \"0\" + hours;\n  if (minutes >= 60) {\n    minutes = minutes - 60 * Math.floor(minutes / 60);\n  }\n  minutes = minutes >= 10 ? minutes : \"0\" + minutes;\n  var seconds = Math.floor(current % 60);\n  seconds = seconds >= 10 ? seconds : \"0\" + seconds;\n  return hours + \":\" + minutes + \":\" + seconds;\n}\n\nfunction VideoPlayer(props) {\n  const video = useRef(null);\n  const boxVideo = useRef(null);\n  const progress = useRef(null);\n  const currentTime = useRef(null);\n  const durationVideo = useRef(\"\");\n  const cursor = useRef(null);\n  const [valueVolum, setValueVolum] = useState(50);\n  let mouseDown = false;\n  let timeOut = null;\n  let istrue = true;\n  let innerVideo = useRef(false);\n  const { link } = props;\n  const [control, setControl] = useState({\n    onPlay: true,\n    onLoading: false,\n    muted: false,\n    fullScreen: false,\n  });\n\n  const { onPlay, onLoading, muted, fullScreen } = control;\n\n  const handleOnplay = () => {\n    setControl({\n      ...control,\n      onPlay: !control.onPlay,\n    });\n    const a = control.onPlay ? \"play\" : \"pause\";\n    video.current[a]();\n    // innerVideo.current = true;\n  };\n\n  const handleLoading = () => {\n    setControl({\n      ...control,\n      onLoading: true,\n    });\n  };\n\n  const handleLoaded = () => {\n    setControl({\n      ...control,\n      onLoading: false,\n    });\n    if (istrue) {\n      durationVideo.current = formatTime(video.current.duration);\n      istrue = false;\n    }\n  };\n  const handleVolum = (e) => {\n    setValueVolum(e.target.value);\n    video.current.volume = valueVolum / 100;\n\n    if (e.target.value === \"0\") {\n      setControl({\n        ...control,\n        muted: true,\n      });\n    } else {\n      if (muted) {\n        setControl({\n          ...control,\n          muted: false,\n        });\n      }\n    }\n  };\n  const hanhdleSkip = (timeSkip) => {\n    video.current.currentTime += timeSkip;\n  };\n  const handleMuted = () => {\n    setControl({\n      ...control,\n      muted: !muted,\n    });\n  };\n\n  const handleFullScreen = (e) => {\n    setControl({\n      ...control,\n      fullScreen: !fullScreen,\n    });\n\n    fullScreen\n      ? document\n          .exitFullscreen()\n          .then()\n          .catch((err) => {\n            boxVideo.current.requestFullscreen();\n          })\n      : boxVideo.current.requestFullscreen();\n  };\n\n  const handleProgress = () => {\n    let percent = (video.current.currentTime / video.current.duration) * 100;\n\n    progress.current.childNodes[0].style.flexBasis = percent + \"%\";\n\n    video.current.currentTime === video.current.duration && handleOnplay();\n    currentTime.current.innerText = formatTime(video.current.currentTime);\n  };\n\n  const handleSlideProgress = (e) => {\n    let slideTime =\n      (e.nativeEvent.offsetX / progress.current.offsetWidth) *\n      video.current.duration;\n    progress.current.childNodes[0].style.flexBasis =\n      (slideTime / video.current.duration) * 100 + \"%\";\n    video.current.currentTime = slideTime || 0;\n  };\n\n  const handeHideCursor = (e) => {\n    if (fullScreen) {\n      if (cursor.current.classList[1] === \"test\") {\n        cursor.current.classList.remove(\"test\");\n        video.current.style.cursor = \"auto\";\n      }\n      timeOut && clearTimeout(timeOut);\n      timeOut = setTimeout(() => {\n        video.current.style.cursor = \"none\";\n        cursor.current.classList.add(\"test\");\n      }, 3000);\n      return;\n    } else {\n      video.current.style.cursor = \"auto\";\n    }\n    if (cursor.current.classList[1] === \"test\") {\n      cursor.current.classList.remove(\"test\");\n    }\n  };\n\n  document.onkeydown = (e) => {\n    if (innerVideo.current) {\n      switch (e.key) {\n        case \"ArrowRight\":\n          hanhdleSkip(20);\n          break;\n\n        case \"ArrowLeft\":\n          hanhdleSkip(-15);\n          break;\n        case \"ArrowUp\":\n          if (valueVolum === 100) {\n            return;\n          }\n          setControl({\n            ...control,\n            muted: false,\n          });\n          setValueVolum(valueVolum + 10);\n          video.current.volume = (valueVolum + 10) / 100;\n          e.preventDefault();\n          break;\n        case \"ArrowDown\":\n          if (valueVolum === 0) {\n            setControl({\n              ...control,\n              muted: true,\n            });\n            return;\n          }\n          setValueVolum(valueVolum - 10);\n          video.current.volume = (valueVolum - 10) / 100;\n          e.preventDefault();\n\n          break;\n        case \" \":\n          handleOnplay();\n          e.preventDefault();\n          break;\n        default:\n      }\n    }\n  };\n  document.onmousedown = (e) => {\n    innerVideo.current = false;\n  };\n\n  return (\n    <div\n      className=\"container-player\"\n      onClick={() => {\n        innerVideo.current = true;\n      }}\n    >\n      <div className=\"box-video\" ref={boxVideo} onMouseMove={handeHideCursor}>\n        <video\n          width=\"100%\"\n          ref={video}\n          height=\"100%\"\n          className=\"video\"\n          src={link}\n          type=\"video/mp4\"\n          muted={muted}\n          onTimeUpdate={handleProgress}\n          onClick={(e) => {\n            handleOnplay(e);\n          }}\n          onLoadStart={() => {\n            handleOnplay();\n          }}\n          playsInline\n          preload=\"metadata\"\n          onMouseUp={() => (mouseDown = false)}\n          onMouseMove={(e) => {\n            mouseDown && handleSlideProgress(e);\n          }}\n          onCanPlay={handleLoaded}\n          onWaiting={handleLoading}\n        ></video>\n        <div\n          className=\"dashed-loading\"\n          style={{ display: onLoading ? \"block\" : \"none\" }}\n        ></div>\n\n        <div\n          className=\"controls\"\n          style={{ bottom: onPlay && \"0\" }}\n          ref={cursor}\n          onMouseUp={() => (mouseDown = false)}\n          onMouseMove={(e) => {\n            mouseDown && handleSlideProgress(e);\n          }}\n        >\n          <div\n            className=\"container-progress \"\n            onClick={handleSlideProgress}\n            onMouseMove={(e) => {\n              mouseDown && handleSlideProgress(e);\n            }}\n            onMouseDown={() => (mouseDown = true)}\n            onMouseUp={() => (mouseDown = false)}\n            ref={progress}\n          >\n            <div className=\"progress\"></div>\n          </div>\n          <div className=\"btn-container\">\n            <div className=\"btn-volum\">\n              <div className=\"icon-volum\">\n                <i\n                  className={muted ? \"fas fa-volume-mute\" : \"fas fa-volume-up\"}\n                  onClick={handleMuted}\n                ></i>\n              </div>\n              <div className=\"custom-volume\">\n                <div className=\"progress-volume\">\n                  <span\n                    className=\"fill\"\n                    style={{ width: valueVolum + \"%\" }}\n                  ></span>\n                </div>\n                <input\n                  className=\"input\"\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"10\"\n                  value={valueVolum}\n                  onChange={handleVolum}\n                  onClick={handleVolum}\n                />\n              </div>\n            </div>\n\n            <div className=\"btn-play\">\n              <p className=\"current-time\" ref={currentTime}>\n                00:00:00\n              </p>\n              <div\n                className=\"icon-backward\"\n                onClick={() => {\n                  hanhdleSkip(-15);\n                  handleProgress();\n                }}\n              >\n                <i className=\"fas fa-backward\"></i>\n              </div>\n              <div className=\"icon-play\">\n                <i\n                  className={\n                    onPlay ? \" far fa-play-circle\" : \"far fa-pause-circle\"\n                  }\n                  onClick={handleOnplay}\n                ></i>\n              </div>\n              <div\n                className=\"icon-forward\"\n                onClick={() => {\n                  hanhdleSkip(20);\n                  handleProgress();\n                }}\n              >\n                <i className=\"fas fa-forward\"></i>\n              </div>\n              <p className=\"duration-time\">\n                {durationVideo.current || \"00:00:00\"}\n              </p>\n            </div>\n\n            <div className=\"fullsceen\">\n              <i className=\"fas fa-expand\" onClick={handleFullScreen}></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default VideoPlayer;\n","import React, { useEffect, useRef, useState } from 'react'\nimport './style.scss'\n\nfunction Advertisement() {\n    let [countDown, setCountDown] = useState(6)\n    let countRef = useRef()\n    useEffect(() => {\n        let count = setInterval(() => {\n            setCountDown(countRef.current)\n        }, 1000);\n        return () => {\n            clearInterval(count)\n        }\n    }, [])\n    useEffect(() => {\n        countRef.current = countDown - 1\n    }, [countDown])\n    return (\n        <div className=\"advertisement\">\n            <div className=\"advertisement__number\">\n                <div>\n                    {\n                        countDown\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Advertisement\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport Comments from \"./comments\";\nimport Loadding from \"../../components/Loadding\";\nimport FilmApi from \"../../api/filmApi\";\nimport ErrorPage from \"../../components/ErrorPage\";\nimport \"./style.scss\";\nimport UserContext from \"../../context/UserContext\";\nimport VideoPlayer from \"../../components/VideoPlayer\";\nimport filmApi from \"../../api/filmApi\";\nimport Advertisement from \"./advertisement\"\n\nfunction WatchFilm() {\n  const [isOpenFilmInfo, setIsOpenFilmInfo] = useState(true);\n  const [isOpenFilm, setIsOpenFilm] = useState(false);\n  const [film, setFilm] = useState(null);\n  const [filmStar, setFilmStar] = useState(null);\n  const [linkFilm, setLinkFilm] = useState(null)\n  const [err, setErr] = useState(false);\n  const { user, setUser } = useContext(UserContext)\n  const { id } = useParams();\n  const overlayRef = useRef()\n  const ticketRef = useRef(null)\n  const openInfoRef = useRef();\n  const yourVoteItemRef = useRef();\n  const InfoContainerRef = useRef();\n  const [disableClick, setDisableClick] = useState(true)\n\n  const handleVoteStar = (index) => {\n    if (user) {\n      console.log(index);\n      try {\n        filmApi.voteFilm({\n          idFilm: id,\n          idUser: user._id,\n          vote: index,\n        }).then((res) => {\n          alert(res.data.message)\n        })\n      }\n      catch (err) {\n        alert(err)\n      }\n    } else alert(\"please login to vote\");\n  };\n  const handleOverVoteStar = (index) => {\n    let newArr = [...yourVoteItemRef.current.children];\n    newArr.forEach((item, i) => {\n      if (i < index) item.classList.add(\"yellow\");\n    });\n  };\n  const handleMouseOutVoteStar = () => {\n    let newArr = [...yourVoteItemRef.current.children];\n    newArr.forEach((item) => {\n      item.classList.remove(\"yellow\");\n    });\n  };\n  const renderStar = () => {\n    const star = [];\n    for (let x = 0; x < 10; x++) {\n      star.push(\n        <i\n          key={x}\n          onClick={() => {\n            handleVoteStar(x + 1);\n          }}\n          onMouseOver={() => {\n            handleOverVoteStar(x + 1);\n          }}\n          onMouseOut={() => {\n            handleMouseOutVoteStar();\n          }}\n          className=\"fas fa-star\"\n        ></i>\n      );\n    }\n    return star.map((item) => item);\n  };\n  const convertDate = () => {\n    var res = film.updatedAt.toString().slice(0, 10).replace(/-/g, \"/\");\n    return res\n  }\n  useEffect(() => {\n    setTimeout(() => {\n    }, 5000)\n  }, [])\n  useEffect(() => {\n    async function getFilm() {\n      try {\n        let res = await FilmApi.getOne(`id=${id}`);\n        console.log(res.data);\n        setFilm(res.data);\n      } catch (err) {\n        console.log(err);\n        if (err) setErr(true);\n      }\n    }\n    getFilm();\n  }, [id]);\n\n  useEffect(() => {\n    if (film) {\n      console.log(film.streamTapeId);\n      FilmApi.getTicket({\n        key: film.streamTapeId\n      }).then((res) => {\n        if (res.data.status === 200) {\n          console.log(res.data);\n          ticketRef.current = res.data.result.ticket\n          setDisableClick(false)\n        }\n        else if (res.data.status === 500||res.data.status === 400) {\n          alert('Sorry we cant get link this Film')\n        }\n      })\n    }\n\n    if (film) {\n      let vote = [];\n      for (let i = 0; i < 10; i++) {\n        if (i < parseInt(film.averageVote))\n          vote.push(\n            <i\n              style={{\n                color: \"#dbb043\",\n              }}\n              className=\"fas fa-star\"\n            ></i>\n          );\n        else vote.push(<i className=\"fas fa-star\"></i>);\n      }\n      setFilmStar(vote);\n    }\n  }, [film]);\n  return (\n    <>\n      {err && <ErrorPage />}\n      {!err && film && (\n        <div className=\"watchFilm\">\n          {!isOpenFilm ? (\n            <div className=\"watchFilm__video\">\n              <img src={film.largerImg} alt=\"logo\" />\n              {\n                disableClick\n                ?<Advertisement/>\n                :<div\n                onClick={() => {\n                  if (disableClick) {\n                    \n                  } else {\n                    if (film.streamTapeId !== \"null\" && ticketRef.current !== null) {\n                      console.log(film.streamTapeId);\n                      console.log(ticketRef.current);\n                      try {\n                        filmApi.getLink({\n                          ticket: ticketRef.current,\n                          key: film.streamTapeId\n                        }).then((res) => {\n                          setLinkFilm(res.data.result.url)\n                        })\n                      } catch (err) {\n                        console.log(err);\n                      }\n                      setIsOpenFilm(true);\n\n                    } else alert('sorry this film is not available now')\n                  }\n                }\n\n                }\n                ref={overlayRef} className=\"watchFilm__video__overlay\"\n              >\n                  <div className=\"watchFilm__video__overlay__playIcon\">\n                  <svg\n                    x=\"0px\"\n                    y=\"0px\"\n                    height=\"100%\"\n                    width=\"100%\"\n                    viewBox=\"0 0 100 100\"\n                    enableBackground=\"new 0 0 100 100\"\n                  >\n                    <path\n                      className=\"stroke-solid\"\n                      fill=\"none\"\n                      stroke=\"#ffff\"\n                      d=\"M49.9,2.5C23.6,2.8,2.1,24.4,2.5,50.4C2.9,76.5,24.7,98,50.3,97.5c26.4-0.6,47.4-21.8,47.2-47.7\n                                    C97.3,23.7,75.7,2.3,49.9,2.5\"\n                    />\n                    <path\n                      className=\"icon\"\n                      fill=\"#ffff\"\n                      d=\"M38,69c-1,0.5-1.8,0-1.8-1.1V32.1c0-1.1,0.8-1.6,1.8-1.1l34,18c1,0.5,1,1.4,0,1.9L38,69z\"\n                    />\n                  </svg>\n                </div>\n              </div>\n              }\n              </div>    \n          ) : (\n              <div className=\"watchFilm__video\">\n                {linkFilm && <VideoPlayer link={linkFilm} />}\n              </div>\n            )}\n          <div className=\"watchFilm__main\">\n            <div className=\"watchFilm__vieName\">\n              <p>{film.name}</p>\n              <select>\n                <option value=\"sv1\">Server 1</option>\n                <option value=\"sv2\">Server 2</option>\n              </select>\n            </div>\n            <div className=\"watchFilm__engName\">\n              <p>{film.ename}</p>\n              <div className=\"watchFilm__engName__favorite\">\n                <i className=\"fas fa-heart\"></i>\n                <p>Favorite film</p>\n              </div>\n            </div>\n            <div className=\"watchFilm__vote\">\n              <div className=\"watchFilm__vote__right\">\n                <p>Voted: {film.averageVote}</p>\n                <div className=\"watchFilm__vote__right__star\">\n                  {filmStar\n                    ? filmStar.map((item, index) => <div key={index}>{item}</div>)\n                    : \"\"}\n                </div>\n                <div>( {film.voteLength} voted )</div>\n              </div>\n              <div className=\"watchFilm__vote__left\">\n                <div onClick={() => {\n                  if (user) {\n                    filmApi.postFilmError({\n                      id: id\n                    }).then((res) => {\n                      if (res.status === 200) alert(\"report film successfully\")\n                      else alert('something wrong')\n                    })\n                  }\n                  else alert('you have to login to report')\n                }} className=\"watchFilm__vote__left__error\">\n                  <i className=\"fas fa-exclamation-triangle\"></i>\n                  <p>Film Error</p>\n                </div>\n              </div>\n            </div>\n            <button className=\"watchFilm__trailer\">\n              Trailer <i className=\"fas fa-caret-right\"></i>\n            </button>\n            <div className=\"watchFilm__filmInfo\">\n              <div\n                onClick={() => {\n                  if (isOpenFilmInfo) {\n                    openInfoRef.current.innerHTML = \"+\";\n                    setIsOpenFilmInfo(false);\n                  } else {\n                    openInfoRef.current.innerHTML = \"-\";\n                    setIsOpenFilmInfo(true);\n                  }\n                }}\n                className=\"watchFilm__filmInfo__top\"\n              >\n                <h3>Film Info</h3>\n                <span ref={openInfoRef}>-</span>\n              </div>\n              <ul\n                ref={InfoContainerRef}\n                className={\n                  isOpenFilmInfo\n                    ? \"watchFilm__filmInfo__bottom activeInfo\"\n                    : \"watchFilm__filmInfo__bottom\"\n                }\n              >\n                <li>Subtitle: VietSub</li>\n                <li>Update date: {convertDate()}</li>\n                <li>Movie length: 120 munites</li>\n                <li style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <p>Actors:</p>\n                  <ul className=\"watchFilm__filmInfo__bottom__actors\">\n                    <li>\n                      <img\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\n                        alt=\"logo\"\n                      />\n                      <p>Tony Stark</p>\n                    </li>\n                    <li>\n                      <img\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\n                        alt=\"logo\"\n                      />\n                      <p>Tony Stark</p>\n                    </li>\n                    <li>\n                      <img\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\n                        alt=\"logo\"\n                      />\n                      <p>Tony Stark</p>\n                    </li>\n                    <li>\n                      <img\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\n                        alt=\"logo\"\n                      />\n                      <p>Tony Stark</p>\n                    </li>\n                  </ul>\n                </li>\n                <li className=\"watchFilm__filmInfo__bottom__description\">\n                  {film.description}\n                </li>\n                <li>\n                  Genres:{\" \"}\n                  {film.categories.map((item, index) => {\n                    if (index !== film.categories.length - 1) {\n                      return <span key={index}>{item.name},</span>;\n                    } else return <span key={index}>{item.name}.</span>;\n                  })}\n                </li>\n                <li>Country: {film.country[0].name}</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"watchFilm__yourVote\">\n            <p>Vote this film</p>\n            <div ref={yourVoteItemRef} className=\"watchFilm__yourVote__item\">\n              {renderStar()}\n            </div>\n          </div>\n          <div className=\"watchFilm__comments\">\n            <Comments user={user} filmId={id} />\n          </div>\n        </div>\n      )}\n      {!film && !err && <Loadding />}\n    </>\n  );\n}\n\nexport default WatchFilm;\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nfunction HotFilm(props) {\n  const { films, title } = props;\n  console.log(films);\n  return (\n    <div className=\"topFilm\">\n      <p className=\"topFilm__title\">{title}</p>\n      <ul>\n        {films.map((item) => (\n          <li key={item._id}>\n            <Link to={`/watch-film/${item._id}`}>\n              <img src={item.img} alt=\"img\" />\n              <div className=\"topFilm__item__info\">\n                <p>{item.name}</p>\n                <p>{item.ename}</p>\n                <div className=\"topFilm__item__info__vote\">\n                  <i className=\"fas fa-star\"></i>\n                  <span>{item.averageVote}</span>\n                </div>\n              </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default HotFilm;\n","import firebase from 'firebase/app'\nimport 'firebase/storage'\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA6v1GUyiLSdBTRQXBs_m0ntT87-oj8bhg\",\n  authDomain: \"react-upload-image-d14cb.firebaseapp.com\",\n  projectId: \"react-upload-image-d14cb\",\n  storageBucket: \"react-upload-image-d14cb.appspot.com\",\n  messagingSenderId: \"301348350634\",\n  appId: \"1:301348350634:web:994642e13ef98235defed3\",\n  measurementId: \"G-WCDRLP88J0\"\n};\n  // Initialize Firebase\nfirebase.initializeApp(firebaseConfig)\n\nconst storage = firebase.storage()\n\nexport {storage,firebase}","const icons =[\n    {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F1.gif?alt=media&token=722f786c-5a97-4511-8d7f-9ac9b43f3c32\",\n        syntax: \":)\",\n    },\n   {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F2.gif?alt=media&token=50efbf6a-7457-4b04-a5dd-ef59995dd567\",\n        syntax: \":(\",\n    },\n   {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F3.gif?alt=media&token=ce44307f-97e8-4552-b187-c2adef403409\",\n        syntax: \";;.)\",\n    },\n   {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F4.gif?alt=media&token=9d30ccb4-e1fe-4713-9bb9-983fad83d4a7\",\n        syntax: \">:D<\",\n    },\n   {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F5.gif?alt=media&token=86cc4e82-21a5-4136-bef1-d9031cefbc5d\",\n      syntax: \";)\",\n    },\n   {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F6.gif?alt=media&token=ffcbbce3-dd9e-4219-a68b-7a2d712e7649\",\n        syntax: \":-/\",\n    },\n   {\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F7.gif?alt=media&token=4555c9b4-cacc-4b89-93cd-d4a7fb9f8763\",\n        syntax: \":-/\",\n    },\n   {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F8.gif?alt=media&token=77e6e246-a810-4df6-b489-9887419f7abe\",\n      syntax: \":x\",\n    },\n     {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F9.gif?alt=media&token=e78f2319-f64b-4bf5-82b8-88520a35a9e5\",\n      syntax: ':\">',\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F10.gif?alt=media&token=92a3a046-0138-43f3-96b0-35157751cf95\",\n      syntax: \":P\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F11.gif?alt=media&token=44c90e65-17f1-4c0b-83d2-9ceb887d37fa\",\n      syntax: \":-*\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F12.gif?alt=media&token=f5dd88e2-758b-4039-8d74-e36ad824f465\",\n      syntax: \"=((\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F13.gif?alt=media&token=db587931-12a0-40ad-a063-35546f8c21ca\",\n      syntax: \":-O\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F14.gif?alt=media&token=574a760d-20cc-4dd1-9dfb-6d1c6d83930c\",\n      syntax: \"X(\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F15.gif?alt=media&token=a87c36d6-dc56-49f3-a25f-138fd4d17dc4\",\n      syntax: \":>\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F16.gif?alt=media&token=4421be56-8a5a-4e9c-867f-33326739fd89\",\n      syntax: \"B-)\",\n    },\n     {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F17.gif?alt=media&token=13fb267f-cd2e-4efd-aa6a-7409dfe37fc4\",\n      syntax: \"#:-S\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F18.gif?alt=media&token=d4287ded-4f24-4b4d-877f-2c938fe774f2\",\n      syntax: \":-S\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F19.gif?alt=media&token=d8da2715-5d60-4a18-aadd-616ba29fc1a7\",\n      syntax: \"&gt;:.)\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F20.gif?alt=media&token=4c439dd9-9632-4877-994e-8dea5e4d9d1c\",\n      syntax: \":.((\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F21.gif?alt=media&token=ff54f490-a3ea-42c6-97e4-58de73697bf5\",\n      syntax: \":.))\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F22.gif?alt=media&token=2987b4cc-73ec-49fd-a3ee-dca8c11fe981\",\n      syntax: \":|\",\n    },\n     {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F23.gif?alt=media&token=1c132e86-5a3d-41de-856f-d50e84a0208d\",\n      syntax: \"/:.)\",\n    },\n    {\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F24.gif?alt=media&token=4d39a30e-c91d-4164-975c-46b8f85e6800\",\n      syntax: \"=))\",\n    },\n  ]\n\n\nconst checkIcon = (data)=>{\n  let find = icons.filter((item) => data.includes(item.syntax));\n  if (find !== undefined) return find;\n  else return null;\n}\nexport {checkIcon,icons as default}","const { default: axiosClient } = require(\"./axiosClient\")\nconst conversationApi = {}\n\nconversationApi.getMany = async (params) => {\n    const url = `/api/conversation`\n    return await axiosClient.get(url,{params})\n}\n\n\nexport default conversationApi;","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport \"./style.scss\";\nimport { storage } from \"../../fireBase\";\nimport icons, { checkIcon } from \"./icons\";\nimport userContext from \"../../context/UserContext\";\nimport io from \"socket.io-client\";\nimport conversationApi from \"../../api/conversationApi\";\nimport Loadding from \"../Loadding\";\nconst socket = io(process.env.REACT_APP_API_URL, { transports: [\"websocket\"] });\n\nfunction Conversation() {\n  const [imageUrl, setImageUrl] = useState([]);\n  const [loadding, setLoadding] = useState(false);\n  const imageUploadedRef = useRef([]);\n  const [currentChats, setCurrentChat] = useState([]);\n  const chatRef = useRef([]);\n  const chatBox = useRef();\n  const { user, setUser } = useContext(userContext);\n  const popupRef = useRef();\n  const inputValueRef = useRef();\n  const renderIcon = () => {\n    let rowNumbers = Math.ceil(icons.length / 8);\n    let tbodyArr = [];\n    let id = 0;\n    for (let i = 0; i < rowNumbers; i++) {\n      let arr = [];\n      for (let y = 0; y < 8; y++) {\n        let iconImg = React.createElement(\"img\", {\n          id: id,\n          onClick: onClickIcon,\n          src: icons[id].url,\n        });\n        let td = React.createElement(\"td\", { key: id }, iconImg);\n        arr.push(td);\n        id++;\n      }\n      let tr = React.createElement(\"tr\", { key: id }, arr);\n      tbodyArr.push(tr);\n    }\n    let tbody = React.createElement(\"tbody\", null, tbodyArr);\n    return tbody;\n  };\n  const handleOnchange = (e) => {\n    if (e.target.files[0] !== undefined) {\n      console.log(\"zoday\");\n      imageUploadedRef.current.push(e.target.files[0]);\n      e.target.files = null;\n      console.log(imageUploadedRef.current);\n      imageUploadedRef.current.forEach((item) => {\n        setImageUrl([...imageUrl, URL.createObjectURL(item)]);\n      });\n    }\n  };\n  const createChat = (data, image = false) => {\n    console.log(image);\n    if (image) {\n      return (\n        <div className=\"conversation__chatBox__item__inner\">\n          <div className=\"conversation__chatBox__item__inner__avatar\">\n            <img src={data.sender[0].avatar} alt=\"\" />\n          </div>\n          <div className=\"conversation__chatBox__item__inner__info\">\n            <div className=\"conversation__chatBox__item__inner__info__sender\">\n              {data.sender[0].userName}\n            </div>\n            <div className=\"conversation__chatBox__item__inner__info__img\">\n              <img src={data.content} alt=\"\" />\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"conversation__chatBox__item__inner\">\n        <div className=\"conversation__chatBox__item__inner__avatar\">\n          <img src={data.sender[0].avatar} alt=\"\" />\n        </div>\n        <div className=\"conversation__chatBox__item__inner__info\">\n          <div className=\"conversation__chatBox__item__inner__info__sender\">\n            {data.sender[0].userName}\n          </div>\n          <div\n            dangerouslySetInnerHTML={{ __html: data.content }}\n            className=\"conversation__chatBox__item__inner__info__content\"\n          ></div>\n        </div>\n      </div>\n    );\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let Arr = [...currentChats];\n    if (imageUploadedRef.current.length > 0) {\n      for (let i = 0; i < imageUploadedRef.current.length; i++) {\n        const uploadTask = storage\n          .ref(`images/${imageUploadedRef.current[i].name}`)\n          .put(imageUploadedRef.current[i]);\n        uploadTask.on(\n          \"state_changed\",\n          (snapshot) => { },\n          (err) => {\n            console.log(err);\n          },\n          () => {\n            storage\n              .ref(\"images\")\n              .child(imageUploadedRef.current[i].name)\n              .getDownloadURL()\n              .then((url) => {\n                socket.emit(\"updateData\", {\n                  senderId: user._id,\n                  isImg: true,\n                  content: url,\n                });\n              })\n              .then(() => {\n                setTimeout(() => {\n                  if (i === imageUploadedRef.current.length - 1) {\n                    console.log(\"zo day\");\n                    imageUploadedRef.current = [];\n                    setImageUrl([]);\n                  }\n                }, 1000);\n              });\n          }\n        );\n      }\n    }\n    if (e.target.inputText.value.trim() !== \"\") {\n      let data = e.target.inputText.value;\n      let check = checkIcon(data);\n      if (check) {\n        for (let x of check) {\n          data = data.split(x.syntax).join(`<span><img src=\"${x.url}\"></span>`);\n        }\n      }\n      console.log(data);\n      socket.emit(\"updateData\", {\n        senderId: user._id,\n        isImg: false,\n        content: data,\n      });\n    }\n\n    e.target.inputText.value = \"\";\n  };\n  const handleClick = (e, index) => {\n    if (e.target.id === \"removeUploadImg\") {\n      let a = [...imageUrl];\n      a.splice(index, 1);\n      imageUploadedRef.current.splice(index, 1);\n      setImageUrl(a);\n    } else if (e.target.id === \"input-file\") {\n      e.target.value = null;\n    } else {\n      popupRef.current.classList.toggle(\"visiblePopup\");\n    }\n  };\n\n  const onClickIcon = (e) => {\n    inputValueRef.current.value += icons[parseInt(e.target.id)][\"syntax\"];\n    inputValueRef.current.focus();\n  };\n\n  useEffect(() => {\n    console.log(currentChats);\n    chatRef.current = currentChats;\n    chatBox.current.scrollTop = chatBox.current.offsetHeight;\n  }, [currentChats, imageUrl]);\n  useEffect(() => {\n    conversationApi\n      .getMany({\n        limit: 10,\n      })\n      .then((res) => {\n        if (res.status === 200) {\n          let arr = [];\n          res.data.data.forEach((item) => {\n            if (item.isImg) arr.unshift(createChat(item, item.isImg));\n            else arr.unshift(createChat(item, item.isImg));\n          });\n          setCurrentChat(arr);\n        }\n      });\n    socket.on(\"serverSend\", (data) => {\n      console.log(chatRef.current);\n      let arr = chatRef.current;\n      arr.push(createChat(data, data.isImg));\n      setCurrentChat([...arr]);\n    });\n    return () => {\n      socket.off(\"serverSend\");\n    };\n  }, []);\n  return (\n    <div className=\"conversation\">\n      <div className=\"conversation__title\">Conversation</div>\n      {loadding && <Loadding fonsize={\"20px\"} />}\n      <div\n        ref={chatBox}\n        onScroll={(e) => {\n          let scrolled = e.target.scrollTop;\n          if (scrolled <= 0) {\n            setLoadding(true);\n            conversationApi\n              .getMany({\n                limit: currentChats.length + 5,\n              })\n              .then((res) => {\n                if (res.status === 200) {\n                  let arr = [];\n                  res.data.data.forEach((item) => {\n                    if (item.isImg) arr.unshift(createChat(item, item.isImg));\n                    else arr.unshift(createChat(item, item.isImg));\n                  });\n                  setCurrentChat(arr);\n                  setLoadding(false);\n                }\n              });\n          }\n        }}\n        className=\"conversation__chatBox\"\n      >\n        {currentChats.map((item, index) => (\n          <div className=\"conversation__chatBox__item\" key={index}>\n            {item}\n          </div>\n        ))}\n      </div>\n      <div className=\"conversation__inputChat\">\n        <div className=\"conversation__inputChat__imageUploaded\">\n          {imageUrl.length > 0 &&\n            imageUrl.map((item, index) => (\n              <div\n                key={index}\n                className=\"conversation__inputChat__imageUploaded__item\"\n              >\n                <i\n                  id=\"removeUploadImg\"\n                  onClick={(e) => {\n                    handleClick(e, index);\n                  }}\n                  className=\"far fa-window-close\"\n                ></i>\n                <img src={item} alt=\"\" />\n              </div>\n            ))}\n        </div>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault()\n            if (user) {\n              handleSubmit(e);\n            } else alert(\"please SignIn\");\n          }}\n          className=\"conversation__inputChat__form\"\n        >\n          <input\n            autoComplete=\"off\"\n            ref={inputValueRef}\n            name=\"inputText\"\n            placeholder=\"Type your text here\"\n            type=\"text\"\n          />\n          <label htmlFor=\"input-file\">\n            <i className=\"fas fa-image\"></i>\n          </label>\n          <input\n            onClick={handleClick}\n            onChange={handleOnchange}\n            style={{\n              display: \"none\",\n            }}\n            id=\"input-file\"\n            type=\"file\"\n          />\n          <div\n            className=\"conversation__inputChat__form__icon\"\n            onClick={handleClick}\n          >\n            <div ref={popupRef} className=\"popupIconChat\">\n              <table>{renderIcon()}</table>\n            </div>\n            <i id=\"icon\" className=\"fas fa-smile\"></i>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Conversation;\n","import React, { useEffect, useState } from \"react\";\nimport HotFilm from \"../HotFilm\";\nimport Conversation from \"../Conversation\";\nimport filmApi from \"../../api/filmApi\";\nimport \"./style.scss\";\n\nfunction LeftComponent() {\n  // const [data, setData] = useState([]);\n  const [films, setFilms] = useState(null);\n  // const { films } = props;\n\n  useEffect(() => {\n    filmApi\n      .getAll({\n        sort: \"vote\",\n        limit: 10,\n      })\n      .then((res) => {\n        setFilms(res.data.product);\n      });\n  }, []);\n  return (\n    <div className=\"LeftComponent\">\n      <Conversation />\n      <div className=\"LeftComponent__topFilms\">\n        {films && <HotFilm films={films} title=\"Hot Films\" />}\n      </div>\n    </div>\n  );\n}\n\nexport default LeftComponent;\n","import React, { useRef, useState } from \"react\";\nimport \"./style.scss\";\nfunction Input(props) {\n  const { label, name, type, value, onChange, onBlur, showPassword } = props;\n  const inputRef = useRef(null);\n  const [isShowPass, setIsShowPass] = useState(false);\n  const togglePass = () => {\n    setIsShowPass(!isShowPass);\n    if (!isShowPass) {\n      inputRef.current.type = \"text\";\n      return;\n    }\n    inputRef.current.type = \"password\";\n  };\n\n  return (\n    <div className=\"input\">\n      <input\n        autoComplete=\"off\"\n        name={name}\n        type={type}\n        value={value}\n        onChange={onChange}\n        placeholder={label}\n        onBlur={onBlur}\n        ref={showPassword && inputRef}\n      />\n\n      {showPassword && (\n        <div className=\"toggle-pass\" onClick={togglePass}>\n          {isShowPass ? (\n            <i className=\"far fa-eye-slash\"></i>\n          ) : (\n            <i className=\"far fa-eye\"></i>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Input;\n","const { default: axiosClient } = require(\"./axiosClient\")\nconst userApi = {}\n\nuserApi.signUp = async (params) => {\n    const url = '/api/signup'\n    return await axiosClient.post(url,params)\n}\nuserApi.signIn = async (params) => {\n    const url= `/api/signin`\n    return await axiosClient.post(url,params)\n}\nuserApi.signInAfterReload = async()=>{\n    const url= `/api/me`\n    return await axiosClient.post(url)\n}\nexport default userApi","import React, { useContext, useEffect, useState } from \"react\";\nimport Input from \"../../../components/Input/index\";\nimport userApi from \"../../../api/userApi\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../../context/UserContext\";\nimport \"../style.scss\";\n\nfunction Signin(props) {\n  const [value, setValue] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [err, setErr] = useState(null);\n  const { user, setUser } = useContext(UserContext);\n  const handleChange = (e) => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErr(null);\n    handleValidate(\"email\", true);\n    handleValidate(\"password\", true);\n    if (!err) {\n      try {\n        let response = await userApi.signIn({\n          email: value.email,\n          password: value.password,\n        });\n        console.log(response.data);\n\n        localStorage.setItem(\"token\", response.data.token);\n        setUser(response.data.user);\n      } catch (err) {\n        console.log(err.response);\n        setErr(err.response.data.message);\n      }\n    }\n  };\n  useEffect(() => {\n    if (user) {\n      history.push(\"/\");\n    }\n  }, [user, history]);\n  const handleValidate = (name, submit = false) => {\n    if (!submit) {\n      setErr(null);\n    }\n    if (name === \"email\") {\n      let checkRegex = /^[a-z][a-z0-9_]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/gim;\n      if (!checkRegex.test(value.email)) {\n        setErr(\"Email is not valid\");\n      }\n    }\n    if (name === \"password\" && value.password.length < 6) {\n      setErr(\"Password can not be less than 6 character\");\n    }\n  };\n  const validate = (e) => {\n    handleValidate(e.target.name);\n  };\n  return (\n    <div style={{ height: \"400px\" }} className=\"container__auth\">\n      <div className=\"logo\">\n        <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\n      </div>\n      {err && (\n        <div style={{ marginTop: \"30px\" }} className=\"err\">\n          <p>{err}</p>\n        </div>\n      )}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <Input\n            label=\"Email\"\n            name=\"email\"\n            type=\"value\"\n            value={value.email}\n            onChange={handleChange}\n            onBlur={validate}\n          />\n        </div>\n        <div>\n          <Input\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            value={value.password}\n            onChange={handleChange}\n            onBlur={validate}\n            showPassword={true}\n          />\n        </div>\n\n        <div className=\"btn\">\n          <button type=\"submit\">Login</button>\n        </div>\n        <div>\n          <p className=\"redirect\">\n            Chưa Có Tài Khoản?\n            <Link className=\"redirect__auth\" to=\"/auth/sign-up\">\n              Đăng Kí\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signin;\n","import React, { useEffect, useState } from \"react\";\nimport Input from \"../../../components/Input/index\";\nimport { Link } from \"react-router-dom\";\nimport userApi from \"../../../api/userApi\";\nimport \"../style.scss\";\n\nfunction Signup(props) {\n  const [value, setValue] = useState({\n    userName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [err, setErr] = useState({\n    isErr: false,\n    nameErr: \"\",\n  });\n  const handleChange = (e) => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSuccessMessage(null);\n    validate(\"email\", true);\n    validate(\"password\", true);\n    validate(\"confirmPassword\", true);\n    if (!err.isErr) {\n      try {\n        await userApi.signUp({\n          userName: value.userName,\n          password: value.password,\n          email: value.email,\n        });\n\n        setSuccessMessage(\"You have registered successfully\");\n      } catch (err) {\n        console.log(err.response);\n        setErr({\n          isErr: true,\n          nameErr: err.response.data.message,\n        });\n      }\n    }\n  };\n\n  const validate = (name, submit = false) => {\n    if (!submit) {\n      setErr({\n        ...err,\n        isErr: false,\n        nameErr: \"\",\n      });\n    }\n\n    if (name === \"email\") {\n      let checkRegex = /^[a-z][a-z0-9_]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/gim;\n      if (!checkRegex.test(value.email)) {\n        setErr({\n          ...err,\n          isErr: true,\n          nameErr: \"cú pháp email không hợp lệ\",\n        });\n      }\n      return;\n    } else if (name === \"password\") {\n      if (value.password.length < 6 || value.password.trim() === \"\") {\n        setErr({\n          ...err,\n          isErr: true,\n          nameErr: \"password quá ngắn\",\n        });\n        return;\n      }\n    } else if (name === \"confirmPassword\") {\n      if (value.confirmPassword !== value.password) {\n        setErr({\n          ...err,\n          isErr: true,\n          nameErr: \"confirmPassword không trùng nhau\",\n        });\n        return;\n      }\n    }\n  };\n  const handle = (e) => {\n    validate(e.target.name);\n  };\n  useEffect(() => {\n    console.log(err);\n  }, [err]);\n\n  // const test = (e) => {\n  //   let b = e.target.parentElement.firstChild.firstChild.type;\n  //   console.log(b);\n  //   // e.target.parentElement.childNodes[0].setAttribute(\"type\", \"text\");\n  //   e.target.parentElement.firstChild.firstChild.type = b === \"text\" ? \"password\" : \"text\";\n  // };\n\n  return (\n    <div className=\"container__auth\">\n      <div className=\"logo\">\n        <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\n      </div>\n\n      {err.isErr && (\n        <div className=\"err\">\n          <p>{err.nameErr}</p>\n        </div>\n      )}\n      {successMessage && (\n        <div className=\"success\">\n          <p>{successMessage}</p>\n        </div>\n      )}\n      <form onSubmit={handleSubmit}>\n        <div className=\"container-input\">\n          <Input\n            label=\"User Name\"\n            name=\"userName\"\n            type=\"value\"\n            value={value.userName}\n            onChange={handleChange}\n            onBlur={handle}\n          />\n        </div>\n        <div className=\"container-input\">\n          <Input\n            label=\"Email\"\n            name=\"email\"\n            type=\"value\"\n            value={value.email}\n            onChange={handleChange}\n            onBlur={handle}\n          />\n        </div>\n        <div className=\"container-input\">\n          <Input\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            value={value.password}\n            onChange={handleChange}\n            onBlur={handle}\n            showPassword={true}\n          />\n        </div>\n        <div className=\"container-input\">\n          <Input\n            label=\"Confirm Password\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            value={value.confirmPassword}\n            onChange={handleChange}\n            onBlur={handle}\n            showPassword={true}\n          />\n        </div>\n        <div className=\"btn\">\n          <button type=\"submit\">Register</button>\n        </div>\n        <div>\n          <p className=\"redirect\">\n            Bạn Có Tài Khoản?\n            <Link className=\"redirect__auth\" to=\"/auth/sign-in\">\n              Đăng Nhập\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n","import React, { useContext, useEffect } from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\nimport Signin from \"./Signin/index\";\nimport Signup from \"./Signup/index\";\nimport userContext from '../../context/UserContext'\nimport \"./style.scss\";\n\nAuth.propTypes = {};\n\n\nfunction Auth(props) {\n  const history = useHistory()\n  const {user,setUser} = useContext(userContext)\n  useEffect(()=>{\n    if(user){\n      history.push('/')\n    }\n    else{\n      history.push('/auth/sign-in')\n    }\n  },[user,history])\n  return (\n    <div className=\"auth\">\n      <Route path=\"/auth/sign-in\" component={Signin} />\n      <Route path=\"/auth/sign-up\" component={Signup} />\n    </div>\n  );\n}\n\nexport default Auth;\n","import React from \"react\";\nimport ErrorPage from \"../../../components/ErrorPage\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\nfunction UserInfor({ user }) {\n  return (\n    <>\n      {user && (\n        <div className=\"box-infor\">\n          <h3 className=\"title\">Thông Tin Cá Nhân</h3>\n          <div className=\"content\">\n            <div className=\"avatar\">\n              <img src={user.avatar} alt=\"logo\" />\n            </div>\n            <div className=\"input-upload\">\n              <input type=\"file\" />\n            </div>\n            <p>\n              <span className=\"infor\"> UserName:</span>{\" \"}\n              <span>{user.userName}</span>\n            </p>\n            <p>\n              <span className=\"infor\"> Email: </span>\n              <span>{user.email}</span>\n            </p>\n            <p>\n              <span className=\"infor\">tài khoản:</span> <span>Member</span>\n            </p>\n\n            <div className=\"change-password\">\n              <Link to=\"/member/change-password\">Đổi mật khẩu</Link>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {!user && <ErrorPage />}\n    </>\n  );\n}\n\nexport default UserInfor;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nFavoriteFilm.propTypes = {};\n\nfunction FavoriteFilm(props) {\n  return <div>film</div>;\n}\n\nexport default FavoriteFilm;\n","import React, { useState } from \"react\";\nimport Input from \"../../../components/Input\";\nimport \"./style.scss\";\nfunction ChangePassword(props) {\n  const [value, setValue] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n    comfirmPassword: \"\",\n  });\n  const handleChange = (e) => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  };\n  return (\n    <div className=\"form-password\">\n      <div className=\"title\">\n        <h3>Change Password</h3>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <Input\n            label=\" Current Password\"\n            name=\"currentPassword\"\n            type=\"password\"\n            value={value.currentPassword}\n            onChange={handleChange}\n            // onBlur={validate}\n            showPassword={true}\n          />\n        </div>\n        <div>\n          <Input\n            label=\"New Password\"\n            name=\"newPassword\"\n            type=\"password\"\n            value={value.newPassword}\n            onChange={handleChange}\n            showPassword={true}\n          />\n        </div>\n        <div>\n          <Input\n            label=\"Confirm Password\"\n            name=\"comfirmPassword\"\n            type=\"password\"\n            value={value.comfirmPassword}\n            onChange={handleChange}\n            showPassword={true}\n          />\n        </div>\n\n        <div className=\"btn\">\n          <button type=\"submit\">Change Password</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default ChangePassword;\n","import React, { useContext } from \"react\";\nimport { Route, NavLink, Switch } from \"react-router-dom\";\nimport UserInfor from \"./UserInfor\";\nimport userContext from \"../../context/UserContext\";\nimport FavoriteFilm from \"./FavoriteFilm\";\nimport ErrorPage from \"../../components/ErrorPage\";\n\nimport \"./style.scss\";\nimport ChangePassword from \"./ChangePassword\";\nfunction Member(props) {\n  const { user, setUser } = useContext(userContext);\n\n  return (\n    <div className=\"container-user\">\n      <div className=\"menu-left\">\n        <div className=\"user-infor\">\n          <NavLink to=\"/member/user-infor\" activeClassName=\"user-active\">\n            <i className=\"far fa-user\"></i> Thông tin tài khoản\n          </NavLink>\n        </div>\n        <div className=\"favorite-films\">\n          <NavLink to=\"/member/favorite-film\" activeClassName=\"user-active\">\n            <i className=\"fas fa-film\"></i> phim yêu thích\n          </NavLink>\n        </div>\n      </div>\n      <div className=\"content-right\">\n        <Switch>\n          <Route path=\"/member/user-infor\">\n            <UserInfor user={user} />\n          </Route>\n          <Route path=\"/member/favorite-film\" component={FavoriteFilm} />\n          <Route path=\"/member/change-password\" component={ChangePassword} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default Member;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.scss\";\n\nfunction Footer(props) {\n  return (\n    <>\n      <footer className=\"footer\">\n        <div className=\"container\">\n          <div className=\"row-footer\">\n            <div className=\"column-footer madeby\">\n              <h3 className=\"footer__heading\">Made by</h3>\n              <ul className=\"footer-list made-by\">\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    Bùi Văn Hiếu\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    Đỗ Hải Nam\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    Nguyễn Xuân Nguyên\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    Phùng Thế Hùng\n                  </Link>\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"column-footer\">\n              <h3 className=\"footer__heading\">Location</h3>\n              <ul className=\"footer-list\">\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 1, trụ sở chính:\n                    Tầng 6, toà C, 22 Thành Công, Hà Nội\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 2: Tầng 2, 29T1\n                    Hoàng Đạo Thuý, Hà Nội\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 3: Tầng 6, 107\n                    Nguyễn Phong Sắc, Hà Nội\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 4: Tầng 5, 71\n                    Nguyễn Chí Thanh, Hà Nội (trụ sở chính)\n                  </Link>\n                </li>\n              </ul>\n            </div>\n            <div className=\"column-footer contact\">\n              <h3 className=\"footer__heading\">Contact with us</h3>\n              <ul className=\"footer-list\">\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fab fa-facebook-square\"></i> FaceBook\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fab fa-instagram\"></i> Instagram\n                  </Link>\n                </li>\n                <li className=\"footer-item\">\n                  <Link to=\"/\" className=\"footer-item__link\">\n                    <i className=\"fab fa-youtube\"></i> Youtube\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"copyright\">\n          <p>© 2020 - bản quyền thuộc về abcxyz </p>\n        </div>\n      </footer>\n    </>\n  );\n}\n\nexport default Footer;\n","import { useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { UserProvider } from \"./context/UserContext\";\n\nimport NavBar from \"./components/Header\";\nimport Home from \"./Pages/Home\";\nimport FilterFilm from \"./Pages/FilterFilm\";\nimport WatchFilm from \"./Pages/WatchFilm\";\nimport LeftComponent from \"./components/LeftComponent\";\nimport Auth from \"./Pages/Auth/index\";\nimport userApi from \"./api/userApi\";\nimport ErrorPage from \"./components/ErrorPage\";\n\nimport \"./App.css\";\nimport \"./style/reset.css\";\nimport Member from \"./Pages/Member\";\nimport Footer from \"./Pages/Footer\";\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [films, setFilms] = useState([]);\n  const [unRight, setUnRight] = useState(false);\n  const [user, setUser] = useState(null);\n  const location = useLocation();\n  const [submit,setSubmit] = useState(null)\n\n  useEffect(() => {\n    fetch(\"https://5f8a739718c33c0016b31771.mockapi.io/Film\")\n      .then((res) => res.json())\n      .then((res) => {\n        setData(res);\n        setFilms(res.slice(0, 7));\n      });\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      console.log(\"ok2\");\n      userApi\n        .signInAfterReload()\n        .then((res) => {\n          setUser(res.data);\n          console.log(\"ok\");\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(\"loi\");\n          localStorage.removeItem(\"token\");\n        });\n    }\n  }, []);\n  useEffect(()=>{\n    console.log(submit)\n  },[submit])\n  useEffect(() => {\n    if (\n      location.pathname === \"/auth/sign-in\" ||\n      location.pathname === \"/auth/sign-up\" ||\n      location.pathname === \"/member/user-infor\" ||\n      location.pathname === \"/member/favorite-film\" ||\n      location.pathname === \"/member/change-password\"\n    ) {\n      setUnRight(true);\n      return;\n    }\n    setUnRight(false);\n  }, [location]);\n  return (\n    <UserProvider value={{ user, setUser } }>\n      <div className=\"app\">\n        <NavBar submit={(data)=>{\n          setSubmit(data)\n        }} className=\"nav-bar\" />\n        <div className=\"app__container\">\n          <div\n            className=\"app__container__left\"\n            style={{ width: unRight && \"100%\" }}\n          >\n            <Switch>\n              <Route path=\"/auth\" component={Auth} />\n              <Route path=\"/watch-film/:id\">\n                <WatchFilm />\n              </Route>\n              <Route exact path=\"/search\">\n              <FilterFilm  searchFilm={submit} />\n              </Route>\n              <Route path=\"/filter/:query\">\n                <FilterFilm films={films} />\n              </Route>\n              <Route path=\"/movies-shown-in-theater\">\n                <FilterFilm />\n              </Route>\n              <Route exact path=\"/\">\n                <Home films={films} />\n              </Route>\n              {user && <Route path=\"/member\" component={Member} />}\n              <Route exact path=\"*\">\n                <ErrorPage />\n              </Route>\n            </Switch>\n          </div>\n          {!unRight && (\n            <div className=\"app__container__right\">\n              <LeftComponent films={films} />\n            </div>\n          )}\n        </div>\n        <Footer />\n      </div>\n    </UserProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from 'axios'\nimport queryString from 'query-string'\n\nconst axiosClient = axios.create(\n    {\n        baseURL:process.env.REACT_APP_API_URL,\n        headers:{\n            'Content-Type': 'application/json',\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        },\n        paramsSerializer: params => {\n          return queryString.stringify(params)\n        },\n    }\n)\naxiosClient.interceptors.response.use(function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response;\n  }, function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    throw error\n  });\n\nexport default axiosClient"],"sourceRoot":""}